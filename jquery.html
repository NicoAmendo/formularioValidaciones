<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--referencia a Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">   
    <!-- referencia a jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Formulario</title>

</head>
<body>
    <div class="container" onsubmit="guardarInformacion(event)">
        <form class="row g-3">
        <div class="col-md-4">
            <label for="validationServer01" class="form-label">Nombre</label>
            <input type="text" class="form-control is-valid" id="validationServer01" placeholder="Escribí tu nombre" onchange="validarNombre()" required>
            <div class="mivalidador">Complete su nombre</div>
        </div>
        <div class="col-md-4">
            <label for="validationServer02" class="form-label">Apellido</label>
            <input type="text" class="form-control is-valid" id="validationServer02" placeholder="Escribí tu apellido" onchange="validarApellido()" required>
            <div class="mivalidador02">Complete su apellido</div>
        </div>
        <div class="col-md-4">
            <label for="validationServerUsername" class="form-label">Email</label>
            <div class="input-group has-validation">
            <span class="input-group-text" id="inputGroupPrepend3">@</span>
            <input type="text" class="form-control is-invalid" id="validationServerUsername" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" onchange="validarEmail()" required>
            <div id="validationServerUsernameFeedback" class="invalid-feedback">
              Inserte un mail valido
            </div>
            </div>
        </div>
        <div class="col-md-6">
            <label for="validationServer03" class="form-label">ciudad</label>
            <input type="text" class="form-control is-invalid" id="validationServer03" aria-describedby="validationServer03Feedback" onchange="validarCiudad()" required>
            <div id="validationServer03Feedback" class="invalid-feedback">
            Por favor, ingrese una ciudad
            </div>
        </div>
        <div class="col-md-3">
            <label for="validationServer04" class="form-label">Provincia</label>
            <select class="form-select is-invalid" id="validationServer04" aria-describedby="validationServer04Feedback" required>
            </select>
            <div id="validationServer04Feedback" class="invalid-feedback">
            Please select a valid state.
            </div>
        </div>
        <div class="col-md-3">
            <label for="validationServer05" class="form-label">Codigo Postal</label>
            <input type="text" class="form-control is-invalid" id="validationServer05" aria-describedby="validationServer05Feedback" required>
            <div id="validationServer05Feedback" class="invalid-feedback">
            Please provide a valid zip.
            </div>
        </div>
        <div class="col-12">
            <div class="form-check">
            <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3" aria-describedby="invalidCheck3Feedback" onclick="validarCheckbox()" required>
            <label class="form-check-label" for="invalidCheck3">
                Agree to terms and conditions
            </label>
            <div id="invalidCheck3Feedback" class="invalid-feedback">
                You must agree before submitting.
            </div>
            </div>
        </div>
        <div class="col-12">
            <button class="btn btn-primary" type="submit">Submit form</button>
        </div>
        </form>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.2/dist/js/bootstrap.min.js"></script>

<script>

let provincias = ["Bs. As", "Mendoza", "Cordoba", "Entre Rios", "corrientes", "chaco", "Salta", "Misiones", "Rio Negro", "Santa Fe", "Santa Cruz", "Tierra Del Fuego"]

let seleccion = document.getElementById("validationServer04");

for(let i=0; i < provincias.length ;i++ ){
    let option = document.createElement("option");
    option.value = provincias[i];
    option.text = provincias[i];    
    seleccion.appendChild(option);
}



function validarNombre(){
    let validarvacio = document.getElementById("validationServer01").value;  
    let regex = /^[^0-9]+$/;    
    let miRegex = regex.test(validarvacio);
    console.log(miRegex);
    if(!validarvacio){  
    $('#validationServer01').removeClass("is-valid").addClass("is-invalid")
    $('.mivalidador').text('no puede quedar vacio').removeClass("text-success").addClass("text-danger")
    }else if(miRegex == false){
    $('#validationServer01').removeClass("is-valid").addClass("is-invalid")
    $('.mivalidador').text('no puede contener números').removeClass("text-success").addClass("text-danger")
    }else{
     $('#validationServer01').removeClass("is-invalid").addClass("is-valid")
    $('.mivalidador').text('nombre válido').removeClass("text-danger").addClass("text-success")
    }
}

function validarApellido(){
    let validarvacio = document.getElementById("validationServer02").value;  
    let regex = /^[^0-9]+$/;    
    let miRegex = regex.test(validarvacio);
    console.log(miRegex);

    if(!validarvacio){  
    $('#validationServer02').removeClass("is-valid").addClass("is-invalid")
    $('.mivalidador02').text('no puede quedar vacio').removeClass("text-success").addClass("text-danger")
    }else if(miRegex == false){
    $('#validationServer02').removeClass("is-valid").addClass("is-invalid")
    $('.mivalidador02').text('no puede contener números').removeClass("text-success").addClass("text-danger")
    }else{
     $('#validationServer02').removeClass("is-invalid").addClass("is-valid")
    $('.mivalidador02').text('nombre válido').removeClass("text-danger").addClass("text-success")
    }
}

// funcion : !"", @, davinci.edu.ar, minuscula, obligatorio un punto.

function validarEmail(){
    let validarvacio = document.getElementById("validationServerUsername").value;  

    if(!validarvacio){  
    $('#validationServerUsername').removeClass("is-valid").addClass("is-invalid")
    $('#validationServerUsernameFeedback').text('no puede quedar vacio').removeClass("text-success").addClass("text-danger")
    }else if(!validarvacio.includes("@")){
    $('#validationServerUsername').removeClass("is-valid").addClass("is-invalid")
    $('#validationServerUsernameFeedback').text('te falta el @').removeClass("text-success").addClass("text-danger")
    }else if(!validarvacio.includes("davinci.edu.ar")){
    $('#validationServerUsername').removeClass("is-valid").addClass("is-invalid")
    $('#validationServerUsernameFeedback').text('ingrese un dominio valido').removeClass("text-success").addClass("text-danger")
    }else{
     $('#validationServerUsername').removeClass("is-invalid").addClass("is-valid")
    $('#validationServerUsernameFeedback').text('correo válido').removeClass("text-danger").addClass("text-success")
    }
    document.getElementById("validationServerUsername").value = validarvacio.toLowerCase()
}

function validarCiudad() {
    let validarvacio = document.getElementById("validationServer03").value;
    let regex = /^[^0-9]+$/;
    let miRegex = regex.test(validarvacio);
    console.log(miRegex);

    let ciudades = ["Bs. As", "Mendoza", "Cordoba", "Entre Rios", "corrientes", "chaco", "Salta", "Misiones", "Rio Negro", "Santa Fe", "Santa Cruz", "Tierra Del Fuego"];

    console.log("Contiene la ciudad del array: " + ciudades);

    if (!validarvacio) {
        $('#validationServer03').removeClass("is-valid").addClass("is-invalid");
        $('#validationServer03Feedback').text('No puede quedar vacío').removeClass("text-success").addClass("text-danger");
    } else if (miRegex == false) {
        $('#validationServer03').removeClass("is-valid").addClass("is-invalid");
        $('#validationServer03Feedback').text('No puede contener números').removeClass("text-success").addClass("text-danger");
    } else if (!ciudades.includes(validarvacio)) {
        console.log("Entré a la condición de la ciudad: " + validarvacio);
        $('#validationServer03').removeClass("is-valid").addClass("is-invalid");
        $('#validationServer03Feedback').text('Esa ciudad no existe').removeClass("text-success").addClass("text-danger");
    } else {
        $('#validationServer03').removeClass("is-invalid").addClass("is-valid");
        $('#validationServer03Feedback').text('Ciudad válida').removeClass("text-danger").addClass("text-success");
    }
}

function validarCheckbox() {
    let checkbox = document.getElementById("invalidCheck3");
    let checkboxFeedback = document.getElementById("invalidCheck3Feedback");

    if (checkbox.checked) {
        checkbox.classList.remove("is-invalid");
        checkbox.classList.add("is-valid");
        checkboxFeedback.textContent = ''; // Limpiar el mensaje de error
    } else {
        checkbox.classList.remove("is-valid");
        checkbox.classList.add("is-invalid");
        checkboxFeedback.textContent = 'You must agree before submitting.';
    }
}

function guardarInformacion(event) {
  event.preventDefault(); // Prevenir el envío del formulario

  // Accede a los elementos del formulario
  const nombre = document.getElementById("validationServer02").value;  
  const apellido = document.getElementById("validationServer01").value;  
  // Otros campos

  // Crea un objeto para almacenar la información
  const formData = {
    nombre,
    apellido,
    // Otros campos
  };

  // Hacer algo con los datos, como enviarlos al servidor o mostrarlos en la página
  console.log(formData);
}



</script>

</body>
</html>